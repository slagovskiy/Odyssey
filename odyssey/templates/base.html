{% load static %}
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="keywords" content="{{ meta_keywords }}" />
        <meta name="description" content="{{ meta_description }}" />
        <meta name="author" content="Sergey Lagovskiy">
        <link rel="icon" href="{% static 'favicon.ico' %}">

        <title>{% if page_title %}{{ page_title }} - {% endif %}Sergey Lagovskiy</title>

        <link rel="stylesheet" href="{% static 'css/normalize.css' %}">
        <script src="{% static 'js/jquery-2.1.3.min.js' %}"></script>
        <link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}">
        <script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
        <link rel="stylesheet" href="{% static 'css/offcanvas.css' %}">
        <script src="{% static 'js/offcanvas.js' %}"></script>

        <script src="{% static 'js/fancybox/jquery.fancybox.pack.js' %}"></script>
        <link href="{% static 'js/fancybox/jquery.fancybox.css' %}" rel="stylesheet" />

        <script type="text/javascript" src="{% static 'js/syntaxhighlighter/scripts/shCore.js' %}"></script>
	    <script type="text/javascript" src="{% static 'js/syntaxhighlighter/scripts/shAutoloader.js' %}"></script>
	    <link type="text/css" rel="stylesheet" href="{% static 'js/syntaxhighlighter/styles/shCore.css' %}" />
        <link type="text/css" rel="stylesheet" href="{% static 'js/syntaxhighlighter/styles/shCoreDefault.css' %}" />
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
    </head>

    <body>
        <nav class="navbar header">
            <div class="container">
                <table class="head-line">
                    <tr>
                        <td>
                            <div class="navbar-header text-nowrap nowrap">
                            <table class="head-line">
                                <tr>
                                    <td>
                                        <a class="navbar-brand" href="#"><img src="{% static 'logo.png' %}" title="Sergey Lagovskiy" alt="Sergey Lagovskiy" class="logo"></a>
                                    </td>
                                    <td>
                                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                                            <span class="sr-only">Toggle navigation</span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                            </div>
                        </td>
                        <td>
                            <div id="navbar" class="collapse navbar-collapse pull-right">
                                <ul class="nav navbar-nav">
                                    <li class="active"><a href="#">Home</a></li>
                                    <li><a href="#about">blog</a></li>
                                    <li><a href="#contact">projects</a></li>
                                    <li><a href="#contact">about</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </nav>

    <div class="container">

        <div class="row row-offcanvas row-offcanvas-right">

            <div class="col-xs-12 col-sm-9">
                <div class="pull-right visible-xs">
                    <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Показать меню</button>
                </div>
                <!------------------------------------------------->
                {% block content1 %}
<article>
        <header>
            <h2><a href="/blog/view/ms_dos_novyj_interpretator_komandnoj_stroki/">MS DOS - Новый интерпретатор командной строки</a></h2>
        </header>
        <hr>
        <!-- IMAGE START -->

<div class="imgleft"><a href="http://img-fotki.yandex.ru/get/9305/16002305.2ee/0_c7b7c_666ea495_orig.jpg" title="" class="img" rel="gallery"><img src="http://img-fotki.yandex.ru/get/9305/16002305.2ee/0_c7b7c_666ea495_S.jpg" border="0"></a><div class="image-note"></div></div>

<!-- IMAGE END -->

<p>Стандартный интерпретатор командной строки MS DOS далек от совершенства, по этому заменим его другим, поддерживающим автодополнение и историю. А за одно маленько улучшим autoexec.bat.
<br>
<br>
<br>
<br></p>
        <hr>
        <p>Для начала создадим три каталога: apps - для устанавливаемых программ и утилит, backup - для сохранения резервных копий, и temp - для временных файлов (т.к. изначально каталогом для временных файлов является каталог DOS).</p>
<p>Команда для создания каталогов - <code>MKDIR</code>. Переходим в корень диска <code>C:</code> и создаем по очереди все каталога. Командой <code>DIR</code> выводим содержимое текущего каталога.</p>
<div class="code"><div><div id="highlighter_615011" class="syntaxhighlighter nogutter  cmd"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cmd plain">С:</code></div><div class="line number2 index1 alt1"><code class="cmd functions">mkdir</code> <code class="cmd plain">TEMP</code></div><div class="line number3 index2 alt2"><code class="cmd functions">mkdir</code> <code class="cmd plain">APPS</code></div><div class="line number4 index3 alt1"><code class="cmd functions">mkdir</code> <code class="cmd plain">BACKUP</code></div><div class="line number5 index4 alt2"><code class="cmd functions">dir</code></div></div></td></tr></tbody></table></div></div></div>

<!-- IMAGE START -->

<div class="imgcenter"><a href="http://img-fotki.yandex.ru/get/9305/16002305.2ee/0_c794f_b3231e59_orig.jpg" title="" class="img" rel="gallery"><img src="http://img-fotki.yandex.ru/get/9305/16002305.2ee/0_c794f_b3231e59_L.jpg" border="0"></a><div class="image-note"></div></div>

<!-- IMAGE END -->

<p>Теперь установим новый интерпретатор командной строки, для этого необходимо скачать <a href="http://yadi.sk/d/H19Wlug0FcMM9" target="_blank">образ дискеты</a>. Далее необходимо подключить этот образ в виртуальный привод.</p>
<p>Переходим на диск <code>А:</code> и копируем с него необходимый файл.</p>
<div class="code"><div><div id="highlighter_642888" class="syntaxhighlighter nogutter  cmd"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cmd plain">A:</code></div><div class="line number2 index1 alt1"><code class="cmd functions">cd</code> <code class="cmd functions">doskey</code></div><div class="line number3 index2 alt2"><code class="cmd functions">copy</code> <code class="cmd functions">doskey</code><code class="cmd plain">.com c:\apps\</code><code class="cmd functions">doskey</code><code class="cmd plain">.com</code></div></div></td></tr></tbody></table></div></div></div>

<!-- IMAGE START -->

<div class="imgcenter"><a href="http://img-fotki.yandex.ru/get/9797/16002305.2ee/0_c7950_da697989_orig.jpg" title="" class="img" rel="gallery"><img src="http://img-fotki.yandex.ru/get/9797/16002305.2ee/0_c7950_da697989_L.jpg" border="0"></a><div class="image-note"></div></div>

<!-- IMAGE END -->

<p>Теперь необходимо подправить <code>autoexec.bat</code>. </p>
<ul>
<li>Перенесем в самое начало команду запрета вывода в консоль <code>@echo off</code>. </li>
<li>Далее сделаем так, что бы программа кеширования диска <code>SMARTDRV.EXE</code> загружалась в верхнюю область памяти, для этого перед вызовом этой программы добавим команду <code>LOADHIGH</code>. </li>
<li>Так же в верхнюю область памяти загрузим наш новый интерпретатор <code>LOADHIGH C:\APPS\DOSKEY.COM -i</code>.</li>
<li>В переменную <code>PATH</code> добавим путь к каталогу с программами.</li>
<li>Зададим новое значение переменной <code>TEMP</code>.</li>
</ul>
<p>В результате получим:
</p><div class="code"><div><div id="highlighter_355104" class="syntaxhighlighter nogutter  cmd"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cmd plain">@</code><code class="cmd functions">ECHO</code> <code class="cmd keyword">OFF</code></div><div class="line number2 index1 alt1"><code class="cmd keyword">LOADHIGH</code> <code class="cmd plain">C:\DOS\SMARTDRV.EXE /X</code></div><div class="line number3 index2 alt2"><code class="cmd keyword">LOADHIGH</code> <code class="cmd plain">C:\APPS\</code><code class="cmd functions">DOSKEY</code><code class="cmd plain">.COM -i</code></div><div class="line number4 index3 alt1"><code class="cmd functions">PROMPT</code> <code class="cmd variable">$p</code><code class="cmd variable">$g</code></div><div class="line number5 index4 alt2"><code class="cmd functions">PATH</code> <code class="cmd plain">C:\APPS;C:\DOS</code></div><div class="line number6 index5 alt1"><code class="cmd keyword">SET</code> <code class="cmd plain">TEMP</code><code class="cmd variable">=C:\TEMP</code></div><div class="line number7 index6 alt2"><code class="cmd functions">MODE</code> <code class="cmd plain">CON CODEPAGE PREPARE</code><code class="cmd variable">=((866) C:\DOS\EGA.CPI)</code></div><div class="line number8 index7 alt1"><code class="cmd functions">CHCP</code> <code class="cmd plain">866</code></div><div class="line number9 index8 alt2"><code class="cmd plain">KEYB RU,,C:\DOS\KEYBOARD.SYS</code></div></div></td></tr></tbody></table></div></div></div><p></p>
<!-- IMAGE START -->

<div class="imgcenter"><a href="http://img-fotki.yandex.ru/get/6724/16002305.2ee/0_c7952_50cbadb2_orig.jpg" title="" class="img" rel="gallery"><img src="http://img-fotki.yandex.ru/get/6724/16002305.2ee/0_c7952_50cbadb2_L.jpg" border="0"></a><div class="image-note"></div></div>

<!-- IMAGE END -->

<p>Теперь для теста вызовем в ручную новый интерпретатор <code>c:\apps\doskey.com -i</code>.</p>
<!-- IMAGE START -->

<div class="imgcenter"><a href="http://img-fotki.yandex.ru/get/9257/16002305.2ee/0_c7951_6d7d82b4_orig.jpg" title="" class="img" rel="gallery"><img src="http://img-fotki.yandex.ru/get/9257/16002305.2ee/0_c7951_6d7d82b4_L.jpg" border="0"></a><div class="image-note"></div></div>

<!-- IMAGE END -->

<p>В ответ получаем сообщение, что DOSKEY установлен и курсор меняем форму, становится чуть толще. Теперь можно проверить работу. На пример находясь в корне диска <code>C:</code> начинаем набирать au и далее жмем клавишу TAB должно сработать автодополнение и получится autoexec.bat.</p>
<!-- IMAGE START -->

<div class="imgcenter"><a href="http://img-fotki.yandex.ru/get/9058/16002305.2ee/0_c7953_e0a73110_orig.jpg" title="" class="img" rel="gallery"><img src="http://img-fotki.yandex.ru/get/9058/16002305.2ee/0_c7953_e0a73110_L.jpg" border="0"></a><div class="image-note"></div></div>

<!-- IMAGE END -->

<p>Теперь остается перезагрузиться, что бы проверить, что все что было изменено работает верно :)</p>
<!-- IMAGE START -->

<div class="imgcenter"><a href="http://img-fotki.yandex.ru/get/9305/16002305.2ee/0_c7954_95d1bc1f_orig.jpg" title="" class="img" rel="gallery"><img src="http://img-fotki.yandex.ru/get/9305/16002305.2ee/0_c7954_95d1bc1f_L.jpg" border="0"></a><div class="image-note"></div></div>

<!-- IMAGE END -->

<p>Система стартовала, DOSKEY установлен. На этом все.</p>
<p><a href="http://lagovskiy.com/blog/view/ms_dos_nastoika_zvukovoi_karti/">Продолжение следует...</a></p>

        <table class="postinfo">
            <tbody><tr>
                <td><span class="icon-date_12"><time datetime="January 8th, 2014 18:00">January 8th, 2014 18:00</time></span></td>
                <td><span class="icon-user_12"><a href="#">Sergey Lagovskiy</a></span></td>
                <td><span class="icon-view_12">7454</span></td>
                <td><span class="icon-comment_12">9</span></td>
                <td>
                    <div class="share">
                        <div class="twitter">
                            <a href="http://twitter.com/intent/tweet?text=MS DOS - Новый интерпретатор командной строки+http://lagovskiy.com/blog/view/ms_dos_novyj_interpretator_komandnoj_stroki/" title="Опубликовать ссылку в Twitter" target="_blank"></a>
                        </div>
                        <div class="vkontakte">
                            <a href="http://vk.com/share.php?url=http://lagovskiy.com/blog/view/ms_dos_novyj_interpretator_komandnoj_stroki/" title="Опубликовать ссылку во ВКонтакте" onclick="window.open(this.href, 'Опубликовать ссылку во Вконтакте', 'width=800,height=300'); return false"></a>
                        </div>
                        <div class="ok">
                            <a href="http://odnoklassniki.ru/dk?st.cmd=addShare&amp;st._surl=http://lagovskiy.com/blog/view/ms_dos_novyj_interpretator_komandnoj_stroki/" title="Опубликовать ссылку в Одноклассниках" onclick="window.open(this.href, 'Опубликовать ссылку в Одноклассниках', 'width=800,height=400'); return false"></a>
                        </div>
                        <div class="facebook">
                            <a href="https://www.facebook.com/sharer/sharer.php?u=http://lagovskiy.com/blog/view/ms_dos_novyj_interpretator_komandnoj_stroki/" title="Опубликовать ссылку в Facebook" onclick="window.open(this.href, 'Опубликовать ссылку в Facebook', 'width=640,height=436,toolbar=0,status=0'); return false"></a>
                        </div>
                        <div class="googleplus">
                            <a href="https://plus.google.com/share?url=http://lagovskiy.com/blog/view/ms_dos_novyj_interpretator_komandnoj_stroki/" title="Опубликовать ссылку в Google Plus" onclick="window.open(this.href, 'Опубликовать ссылку в Google Plus', 'width=800,height=300'); return false"></a>
                        </div>
                    </div>
                </td>
            </tr>
            <tr><td colspan="5">
                <span class="icon-category_12">
                <a href="/blog/category/admin/">Админево</a>
                </span>
                <span class="icon-tag_12">
                    <a href="/blog/tag/virtualbox/">VirtualBox</a>,

                    <a href="/blog/tag/antiquities/">Antiquities</a>,

                    <a href="/blog/tag/dos/">DOS</a>
                </span>
            </td></tr>
        </tbody></table>

</article>
                {% endblock %}
                <!------------------------------------------------->
            </div>

            <div class="col-xs-6 col-sm-3 sidebar-offcanvas sidebar" id="sidebar">
                <h3>Categories</h3>
                <div class="list-group">
                    <a href="#" class="list-group-item">Админево<span class="badge">10</span></a>
                    <a href="#" class="list-group-item">Разработка<span class="badge">7</span></a>
                    <a href="#" class="list-group-item">Электроника<span class="badge">22</span></a>
                    <a href="#" class="list-group-item">Фотография<span class="badge">1</span></a>
                </div>

                <h3>Tags</h3>
                <div class="list-group">
                    <a href="#" class="list-group-item">Windows<span class="badge">1</span></a>
                    <a href="#" class="list-group-item">Linux<span class="badge">4</span></a>
                    <a href="#" class="list-group-item">Arduino<span class="badge">2</span></a>
                    <a href="#" class="list-group-item">LOMO Compact Automat<span class="badge">1</span></a>
                    <a href="#" class="list-group-item">Film<span class="badge">1</span></a>
                    <a href="#" class="list-group-item">Mikrotik<span class="badge">4</span></a>
                    <a href="#" class="list-group-item">C#<span class="badge">2</span></a>
                    <a href="#" class="list-group-item">Microsoft SQL server<span class="badge">1</span></a>
                </div>
            </div>
        </div>

    </div>
    <footer>
        <div class="container">
            <a href="mailto:slagovskiy@gmail.com">Sergey Lagovskiy</a> © 2010-2015 &nbsp;&nbsp;<span title="Odyssey">Οδύσσεια</span> 0.2
        </div>
    </footer>

    <script>
        $("a.img").fancybox();
        SyntaxHighlighter.autoloader(
            'applescript            /static/js/syntaxhighlighter/scripts/shBrushAppleScript.js',
            'actionscript3 as3      /static/js/syntaxhighlighter/scripts/shBrushAS3.js',
            'bash shell             /static/js/syntaxhighlighter/scripts/shBrushBash.js',
            'cmd                    /static/js/syntaxhighlighter/scripts/shBrushCMD.js',
            'coldfusion cf          /static/js/syntaxhighlighter/scripts/shBrushColdFusion.js',
            'cpp c                  /static/js/syntaxhighlighter/scripts/shBrushCpp.js',
            'c# c-sharp csharp      /static/js/syntaxhighlighter/scripts/shBrushCSharp.js',
            'css                    /static/js/syntaxhighlighter/scripts/shBrushCss.js',
            'delphi pascal          /static/js/syntaxhighlighter/scripts/shBrushDelphi.js',
            'diff patch pas         /static/js/syntaxhighlighter/scripts/shBrushDiff.js',
            'erl erlang             /static/js/syntaxhighlighter/scripts/shBrushErlang.js',
            'groovy                 /static/js/syntaxhighlighter/scripts/shBrushGroovy.js',
            'java                   /static/js/syntaxhighlighter/scripts/shBrushJava.js',
            'jfx javafx             /static/js/syntaxhighlighter/scripts/shBrushJavaFX.js',
            'js jscript javascript  /static/js/syntaxhighlighter/scripts/shBrushJScript.js',
            'perl pl                /static/js/syntaxhighlighter/scripts/shBrushPerl.js',
            'php                    /static/js/syntaxhighlighter/scripts/shBrushPhp.js',
            'text plain             /static/js/syntaxhighlighter/scripts/shBrushPlain.js',
            'py python              /static/js/syntaxhighlighter/scripts/shBrushPython.js',
            'ruby rails ror rb      /static/js/syntaxhighlighter/scripts/shBrushRuby.js',
            'sass scss              /static/js/syntaxhighlighter/scripts/shBrushSass.js',
            'scala                  /static/js/syntaxhighlighter/scripts/shBrushScala.js',
            'sql                    /static/js/syntaxhighlighter/scripts/shBrushSql.js',
            'vb vbnet               /static/js/syntaxhighlighter/scripts/shBrushVb.js',
            'xml xhtml xslt html    /static/js/syntaxhighlighter/scripts/shBrushXml.js',
            'RouterOS ros           /static/js/syntaxhighlighter/scripts/shBrushRouterOS.js'
        );
        // !!! replace < to &lt;
        SyntaxHighlighter.all();
    </script>



</body>
</html>